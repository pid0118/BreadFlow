<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.breadflow.app.account.mapper.AccountMapper">
	<!-- 전체조회 -->
	<select id="selectAccountList" resultType="AccountVO">
		SELECT 	m.position
        		,m.id
				,m.member_no
		        ,c.brn
		        ,m.name
		        ,c.company_name
		        ,m.tel
		        ,c.company_address
		        ,m.contract_date
		        ,c.region
		        ,m.other
		        
		FROM member m JOIN company c
		        ON m.company_no = c.company_no
	</select>

	<insert id="insertCompany" parameterType="AccountVO">
		INSERT INTO company
		(
		    company_no
		    ,div
		    ,company_name
		    ,company_address
		    ,company_tel
		    ,brn
		    ,region
		) VALUES (
		    'CP' || '10006'
		    , #{div}
		    , #{companyName}
		    , #{companyAddress}
		    , #{companyTel}
		    , #{brn}
		    , #{region}
		)
	</insert>
	
	<insert id="insertMember" parameterType="AccountVO">
		INSERT INTO member (
		    member_no
		    ,id
		    ,password
		    ,name
		    ,tel
		    ,other
		    ,position
		    ,company_no
		    ,contract_date
		) VALUES (
		    'US' || '10006'
		    ,'BB' || '10006'
		    ,'0000'
		    , #{name}
		    , #{companyTel}
		    , #{other}
		    ,'담'
		    , 'CP10005'
		    , #{contractDate}
		)
	</insert>

</mapper>